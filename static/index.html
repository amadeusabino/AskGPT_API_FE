<!DOCTYPE html>
<html>
<head>	
	<link rel="shortcut icon" href="static/favicon.ico">
	<title>Pergunte ao GPT OpenAI API</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="static/styles.css">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
	<h1>Use a API Completion da OpenAI</h1>
	<form>
		<label for="question">Digite sua pergunta:</label>
		<textarea id="question" name="question"></textarea>
		<div class="button-container">
			<button type="button" id="button" onclick="chamarAPI()">Enviar</button>
		</div>
	</form>

	<div>
		<label>Resposta:</label>
		<textarea id="result" readonly></textarea>
	</div>
	
	<footer>
		<p>Created by <a href="http://www.alsoft-ti.com.br"> Alsoft TI</a></p>
	</footer>

	<script>
		function chamarAPI() {
			var question = document.getElementById("question").value;
			document.getElementById("result").innerHTML = 'Aguardando resposta....';
			$.get("/ask", {question: question}, function(data){
				document.getElementById("result").innerHTML = data;
			});
		}

		document.getElementById("button").addEventListener("keydown", function(event) {
			if (event.key === "Enter") {
				document.getElementById("button").click();
			}
		});
	</script>

</body>
</html>
